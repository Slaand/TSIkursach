<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

    <head>
        <title>Panel page</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

        <link rel="stylesheet" type="text/css" href="webjars/bootstrap/4.1.3/css/bootstrap.min.css" />
        <link rel="stylesheet" type="text/css" href="webjars/materialize/0.100.2/dist/css/materialize.min.css" />
        <link rel="stylesheet" type="text/css" href="webjars/material-design-icons/3.0.1/material-icons.css" />
        <link rel="stylesheet" type="text/css" th:href="@{/sortable/bootstrap-sortable.css}"/>
        <link rel="stylesheet" type="text/css" th:href="@{/css/background.css}"/>
        <link rel="stylesheet" type="text/css" th:href="@{/css/panel.css}"/>
        <style>
            body { background-color:#fafafa;}
            .container { margin:150px auto;}
        </style>
    </head>

    <body>

    <div id="particles">
        <div id="webcoderskull">

            <section class="row-section">
                <div class="col-md-10 offset-md-1 row-block">

                        <nav class="nav-extended pink darken-4">

                        <div class="nav-wrapper">
                            <ul id="nav-mobile" class="left hide-on-med-and-down">
                                <li th:inline="text">&nbsp;&nbsp; Привет [[${#httpServletRequest.remoteUser}]]!</li>
                            </ul>
                            <ul class="right hide-on-med-and-down">
                                <li>
                                    <a href="javascript: document.logoutForm.submit()" role="menuitem"><i class="material-icons">exit_to_app</i></a>
                                    <form name="logoutForm" th:action="@{/logout}" method="post" th:hidden="true">
                                        <input hidden type="submit" value="Sign Out"/>
                                    </form>
                                </li>
                            </ul>
                        </div>

                        <div class="nav-content">
                            <ul class="tabs tabs-transparent">
                                <li class="tab"><a class="active" href="/panel">Поиск</a></li>
                                <li class="tab"><a href="/panel/add">Добавить</a></li>
                                <li class="tab"><a href="/panel/edit">Редактировать</a></li>
                                <li class="tab"><a href="/panel/remove">Удалить</a></li>
                            </ul>
                        </div>
                    </nav>

                    <!--<div id="search" class="col s12">-->
                        <!--<div th:replace="blocks/search :: search"/>-->
                    <!--</div>-->

                    <!-- начало блока со страницей поиска -->
                    <!-- TODO возродить кнопки -->

                    <div class="media">
                        <div class="media-body">

                            <h5>Поиск студентов</h5>
                            <hr>

                            <br><br>

                            <form>
                                <div class="card-body row no-gutters align-items-center">
                                    <div class="col-auto">
                                        <i class="fas fa-search h4 text-body"></i>
                                    </div>
                                    <div class="col">
                                        <input class="form-control form-control-lg form-control-borderless" type="search" placeholder="Поиск по критерию..">
                                    </div>
                                    <div class="col-auto">
                                        <button class="btn btn-lg btn-success" type="submit">Поиск</button>
                                    </div>
                                </div>
                            </form>

                            <!--<th data-defaultsign="_19">#</th>-->
                            <!--<th data-defaultsign="AZ">First Name</th>-->
                            <!--<th>Last Name</th>-->
                            <!--<th data-defaultsign="month">Birthday</th>-->

                            <h6>Результаты поиска</h6>
                            <br>
                            <table class="table table-striped sortable">
                                <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Имя</th>
                                    <th scope="col">Фамилия</th>
                                    <th scope="col">Дата рождения</th>
                                    <th scope="col">Дата зачисления</th>
                                    <th scope="col">Перс.код</th>
                                    <th scope="col">Адрес</th>
                                    <th scope="col">Факультет</th>
                                    <th scope="col">Группа</th>
                                    <th scope="col">Действия</th>
                                </tr>
                                </thead>
                                <tbody>
                                    <tr th:each="student : ${studList}">
                                        <td th:text="${student.id}"></td>
                                        <td th:text="${student.name}"></td>
                                        <td th:text="${student.surname}"></td>
                                        <td th:text="${#dates.format(student.birthDate,'dd-MM-yyyy')}"></td>
                                        <td th:text="${#dates.format(student.enrollDate,'dd-MM-yyyy')}"></td>
                                        <td th:text="${student.personalCode}"></td>
                                        <td th:text="${student.city} +', '+ ${student.country}"></td>
                                        <td th:text="${student.faculty}"></td>
                                        <td th:text="${student.group}"></td>
                                        <td>
                                            <a class="badge badge-primary" href="javascript: document.editStudent.submit()" role="menuitem"><i class="far fa-edit"></i><i class="material-icons">edit</i></a>
                                            <form name="editStudent" th:action="@{/edit}" method="get" th:hidden="true"><input hidden type="submit" value="editStudent"/></form>
                                            <a class="badge badge-primary" href="javascript: document.editStudent.submit()" role="menuitem"><i class="far fa-edit"></i><i class="material-icons">edit</i></a>
                                            <form name="editStudent" th:action="@{/blocks/edit}" method="get" th:hidden="true"><input hidden type="submit" value="editStudent"/></form>
                                        </td>
                                    <tr>
                                </tbody>
                            </table>

                            <br><br>

                        </div>
                    </div>

                    <!-- конец блока со страницей поиска -->

                </div>
            </section>

        </div>
    </div>

    <script type="text/javascript" th:src="@{/webjars/jquery/3.3.1-1/jquery.min.js/}"></script>
    <script type="text/javascript" th:src="@{/webjars/bootstrap/4.1.3/js/bootstrap.min.js}"></script>
    <script type="text/javascript" th:src="@{/webjars/materialize/0.100.2/dist/js/materialize.min.js}"></script>
    <script type="text/javascript" th:src="@{/sortable/bootstrap-sortable.js}"></script>
    <script type="text/javascript" th:src="@{/js/background.js}"></script>

    </body>
</html>